5     sprites on :cls :bitmap off 10    input "sprite file to convert to BASIC format:";a$20    try bload "sprites/"+a$+".spr",$FFFF to ec30    if ec=040    print "Loading "+a$+".spr sprites @ $FFFF"50    xpeekval=alloc(3)60    xpeek($FFFF):n=peek(xpeekval)65    meta=dest70    dest=$30000:index=$1000080    for c=0 to n90    meta=dest100   if c=0 then xpoke(dest,$11):dest=dest+1110   xpeekl(index):sz=peekl(xpeekval)&03:size=sz*8+8:src=peekl(xpeekval)-sz120   src=src-$20000:rem "adjust address in index"130   xpoke(dest,sz):dest=dest+1140   xpoke(dest,0):dest=dest+1:orig=dest150   memcopy src,size*size to dest:dest=dest+(size*size)160   print ".";170   index=index+3180   next 190   xpoke(dest,$80)200   sprite 0 to 100,100 image 0210   print :print str$(n+1)+" Sprites converted"220   print "saving bspr/"+a$+".bspr in BASIC sprite format"230   bsave "bspr/"+a$+".bspr",$30000,dest-$30000240   else 250   print "File sprites/"+a$+".spr not found."260   endif 270   end 1000  proc xpoke(address,value)1010  memcopy address,1 poke value1020  endproc 1030  proc xpeekl(address)1040  memcopy address,3 to xpeekval1050  endproc 1060  proc xpeek(address)1065  pokel xpeekval,01070  memcopy address,1 to xpeekval1080  endproc 