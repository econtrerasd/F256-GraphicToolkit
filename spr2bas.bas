5     sprites on :cls 10    input "sprite file to convert to BASIC format:";a$15    bload a$+".spr",$FFFF20    print "Loading "+a$+".spr sprites @ $FFFF"30    xpeekval=alloc(3)40    xpeek($FFFF):n=peek(xpeekval)50    dest=$30000:index=$1000060    for c=0 to n65    meta=dest70    if c=0 then xpoke(dest,$11):dest=dest+180    xpeekl(index):sz=peekl(xpeekval)&03:size=sz*8+8:src=peekl(xpeekval)-sz85    src=src-$20000:rem "adjust address in index"90    xpoke(dest,sz):dest=dest+1100   xpoke(dest,0):dest=dest+1:orig=dest110   memcopy src,size*size to dest:dest=dest+(size*size)120   print ".";130   index=index+3140   next 145   xpoke(dest,$80)150   sprite 0 to 100,100 image 0160   print :print str$(n+1)+" Sprites converted"170   print "saving "+a$+".bspr in BASIC sprite format"190   bsave a$+".bspr",$30000,dest-$30000200   end 1000  proc xpoke(address,value)1010  memcopy address,1 poke value1020  endproc 1030  proc xpeekl(address)1040  memcopy address,3 to xpeekval1050  endproc 1060  proc xpeek(address)1065  pokel xpeekval,01070  memcopy address,1 to xpeekval1080  endproc 